@{
    ViewData["Title"] = "Profile";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<style>
        .form-group {
            clear: both;
            margin-bottom: 80px;
        }

        input.largerCheckbox {
            width: 20px;
            height: 20px;
        }

        .img-wrap {
            position: relative;
            display: inline-block;
            font-size: 0;
        }

        .img-wrap .close-x {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 100;
            background-color: #ddd;
            padding: 5px 5px 5px;
            color: black;
            font-weight: bold;
            cursor: pointer;
            opacity: .2;
            text-align: center;
            font-size: 22px;
            line-height: 10px;
            border-radius: 10%;
        }

        .img-wrap:hover .close-x {
            opacity: 1;
        }

        .img-wrap .add-x {
            position: absolute;
            bottom: 10px;
            right: 10px;
            z-index: 100;
            background-color: #ddd;
            padding: 5px 5px 5px;
            color: black;
            font-weight: bold;
            cursor: pointer;
            opacity: .2;
            text-align: center;
            font-size: 22px;
            line-height: 10px;
            border-radius: 10%;
        }

        .img-wrap:hover .add-x {
            opacity: 1;
        }
</style>
<link rel="stylesheet" href="~/css/gallory/gallory.css">
<style>
 
</style>
<section class="content-header">
    <h1 id="title-content"> 
        Profile
    </h1>
</section>
<section class="content">
    <form enctype="multipart/form-data" id="create-form" method="post">
        <input type="hidden" id="ID" name="ID" value="" />
        <input type="hidden" id="DeleteImage1" name="DeleteImage1" value="0" />
        <input type='file' id="imagePath1" name="imagePath1" style="display:none;" />
        <div id="box-req" class="box box-primary">
            <div class="box-body">
                <div class="row">
                    <div class="form-group req-box-form">
                        <div class="col-xs-12">
                            <label for="req-name">Full Name</label>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-file-text-o"></i>
                                </span>
                                <input type="text" id="Name" required name="Name" class="form-control" autocomplete="off" placeholder="Full Name" value="">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group req-box-form">
                        <div class="col-xs-12">
                            <label for="req-name">Username</label>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-file-text-o"></i>
                                </span>
                                <input type="text" id="Username" required name="Username" class="form-control"  autocomplete="off" placeholder="Username" >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group req-box-form">
                        <div class="col-xs-12">
                            <label for="req-name">Password</label>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-file-text-o"></i>
                                </span>
                                <input type="password" id="Password" name="Password" class="form-control" autocomplete="off" placeholder="Password">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group req-box-form">
                        <div class="col-xs-12">
                            <label for="req-name">Retry Password</label>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-file-text-o"></i>
                                </span>
                                <input type="password" id="RePassword" name="RePassword" class="form-control" autocomplete="off" placeholder="Retry Password">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group req-box-form">
                        <div class="col-xs-12">
                            <label for="req-name">Department</label>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-file-text-o"></i>
                                </span>
                                <input type="text" id="Depart" name="Depart" class="form-control" autocomplete="off" placeholder="Department"
                                       value="">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="form-group req-box-form">
                        <div class="col-xs-6">
                            <label for="req-name">Tel</label>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-file-text-o"></i>
                                </span>
                                <input type="text" id="Tel" name="Tel" class="form-control" autocomplete="off" placeholder="Tel" value="">
                            </div>
                        </div>
                        <div class="col-xs-6">
                            <label for="req-name">Email</label>
                            <div class="input-group">
                                <span class="input-group-addon">
                                    <i class="fa fa-file-text-o"></i>
                                </span>
                                <input type="text" id="Email" name="Email" class="form-control" autocomplete="off" placeholder="Email" value="">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row" style="display:none" >
                    <div class="form-group req-box-form">
                        <div class="col-xs-6">
                            <label for="req-name">Status</label>
                            <select class="form-control" id="Active"  name="Active">
                                <option value="0">Active</option>
                                <option value="1">UnActive</option>
                            </select>
                        </div>
                        <div class="col-xs-6">
                            <label for="req-name">Role</label>
                            <select class="form-control" id="Role"  name="Role.ID">
                                
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group req-box-form">
                        <div class="col-xs-12">
                            <label for="req-name">Avatar</label>
                        </div>
                    </div>
                </div>
                <div class="timeline-body" style="margin-top:-50px;">
                    <div class="row">
                        <div class="gallery">
                            <figure class="img-wrap veiw-figure">
                                <span class="add-x" v data="1">
                                    <i class="fa fa-plus"></i>
                                </span>
                                <img src="/image/avatar5.png"  class="imagePath1 img-responsive" alt="" />  
                                <figcaption>Avatar </figcaption>
                            </figure>
                        </div>
                        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none;">
                            <symbol id="close" viewBox="0 0 18 18">
                                <path fill-rule="evenodd" clip-rule="evenodd" fill="#FFFFFF" d="M9,0.493C4.302,0.493,0.493,4.302,0.493,9S4.302,17.507,9,17.507
                                            S17.507,13.698,17.507,9S13.698,0.493,9,0.493z M12.491,11.491c0.292,0.296,0.292,0.773,0,1.068c-0.293,0.295-0.767,0.295-1.059,0
                                            l-2.435-2.457L6.564,12.56c-0.292,0.295-0.766,0.295-1.058,0c-0.292-0.295-0.292-0.772,0-1.068L7.94,9.035L5.435,6.507
                                            c-0.292-0.295-0.292-0.773,0-1.068c0.293-0.295,0.766-0.295,1.059,0l2.504,2.528l2.505-2.528c0.292-0.295,0.767-0.295,1.059,0
                                            s0.292,0.773,0,1.068l-2.505,2.528L12.491,11.491z" />
                            </symbol>
                        </svg>
                    </div>
                </div>
                <div class="box-footer">
                    <button type="submit" class="btn btn-primary pull-right">บันทึก</button>
                </div>
            </div>
    </form>
</section>

@section Scripts {
<script>
  //var saveRet = '{{.ret.RetOK}}';
  //var profile = '{{.important}}';
  //if (saveRet == 'true') {
  //  if (profile=='')
  //   setTimeout(function () { window.location.href = '/user/list' }, 1000);
  //}
  //var Active =  '{{.m.Active}}';
  //if(Active == 'true') {
  //  $("#Active").val("1");
  //}else{
  //  $("#Active").val("0");
  //}

  //$("#Role").val('{{.m.Role.ID}}');
  //if ($("#Role").val() == '' || $("#Role").val() == null) {
  //  $("#Role").val($("#Role option:first").val());
  //}
  popup = {
  init: function(){
    $('.veiw-figure').click(function(){
      popup.open($(this));
      $('.img-wrap .close-x').hide();
      $('.img-wrap .add-x').hide();
    });

    $(document).on('click', '.popup img', function(){
      return false;
    }).on('click', '.popup', function(){
      popup.close();
      $('.img-wrap .close-x').show();
      $('.img-wrap .add-x').show();
    })
  },
  open: function($figure) {
    $('.img-wrap .close-x').hide();
    $('.img-wrap .add-x').hide();
    $('.gallery').addClass('pop');
    $popup = $('<div class="popup" />').appendTo($('body'));
    $fig = $figure.clone().appendTo($('.popup'));
    $bg = $('<div class="bg" />').appendTo($('.popup'));
    $close = $('<div class="close"><svg><use xlink:href="#close"></use></svg></div>').appendTo($fig);
    $shadow = $('<div class="shadow" />').appendTo($fig);
    src = $('img', $fig).attr('src');
    $shadow.css({backgroundImage: 'url(' + src + ')'});
    $bg.css({backgroundImage: 'url(' + src + ')'});
    setTimeout(function(){
      $('.popup').addClass('pop');
    }, 10);
  },
  close: function(){
    $('.img-wrap .close-x').show();
    $('.img-wrap .add-x').show();
    $('.gallery, .popup').removeClass('pop');
    setTimeout(function(){
      $('.popup').remove()
    }, 100);
  }
}
popup.init();
      $('.img-wrap .close-x').on('click', function () {
       $('#DeleteImage' + $(this).attr('data')).val(1);
       $('.imagePath' + $(this).attr('data')).attr('src','/static/image/600_x_400.png')
        return false;
      });
      $('.img-wrap .add-x').on('click', function () {
        console.log( $(this).attr('data'))
        $("#imagePath" + $(this).attr("data")).click();
        return false;
      });

  function readURL(input) {
    if (input.files && input.files[0]) {
      var extension = input.files[0].name.replace(/^.*\./, '');
      if ( $.inArray(extension, ['gif','png','jpg','jpeg']) == -1){
       $(input).val('');
       return;
      }
      var reader = new FileReader();
      reader.onload = function (e) {
        $('.' + $(input).attr("id") ).attr('src', e.target.result);
      }
      reader.readAsDataURL(input.files[0]);
    }
  }

  $("#imagePath1").change(function() {
     readURL(this);
  });
</script>
}